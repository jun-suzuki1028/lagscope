# スマブラSP確定反撃算出ツール - Kiro Specs作成プロンプト

## 目的
参考サイト（https://oppo240.github.io/smash-tool/）をベースに、より高機能で使いやすいスマブラSPの確定反撃算出ツールを作成するためのSpecsをKiroで作成する。

## 段階的アプローチ

### ステップ1: プロジェクト概要の定義

```
あなたは優秀なプロダクトマネージャーです。
これから「大乱闘スマッシュブラザーズ SPECIAL」の確定反撃算出ツールの仕様書を作成します。

# プロジェクト概要
- **プロダクト名**: スマッシュ・リベンジャー
- **目的**: プレイヤーが特定の技をガードした後に、どの反撃が確定するかを簡単かつ正確に計算できるツールを提供する
- **ターゲットユーザー**: スマブラSPの中級者〜上級者（競技プレイヤー含む）
- **差別化ポイント**: 既存ツールより高速で直感的、複数キャラクター比較機能付き

# 参考サイト分析結果
以下のサイトをベースに改良版を作成します：
https://oppo240.github.io/smash-tool/

## 既存ツールの優れた点
- シンプルで直感的な3つのドロップダウン選択
- 高速なレスポンス
- 詳細なフレームデータ表示
- レスポンシブデザイン

## 改善すべき点
- 複数キャラクター同時比較機能がない
- 距離やリーチの概念が考慮されていない
- データのエクスポート機能がない
- 視覚的な補助（アイコンなど）が少ない

上記を踏まえて、全体的なプロダクト戦略と主要機能の概要を定義してください。
```

### ステップ2: コア機能の詳細設計

```
「確定反撃の計算と結果表示」について、より詳細な仕様を定義してください。

# 計算ロジックの要件
1. **基本計算式**:
   ```
   ガード硬直差 + 1 >= 技の発生フレーム
   ```
   - ガード硬直差: 技をガードした側が攻撃した側よりどれだけ早く動けるかを示す数値
   - シールドからのキャンセル行動（ジャンプ、上B、上スマッシュ）を考慮

2. **考慮すべき要素**:
   - **真のガードキャンセル行動**:
     - ガードキャンセル・ジャンプ → 空中攻撃: `ジャンプ発生フレーム (3F) + 各空中攻撃の発生フレーム`
     - ガードキャンセル・上必殺ワザ: `キャラクターごとの上必殺ワザの発生フレーム`
     - ガードキャンセル・上スマッシュ攻撃: `キャラクターごとの上スマッシュ攻撃の発生フレーム`
   - **ガード解除後の行動**:
     - ガード解除 → つかみ・地上攻撃など: `ガード解除硬直 (11F) + 各行動の発生フレーム`
   - **OP相殺**: 同じ技を連続で当てた場合の威力・ガード硬直変化
   - **距離・リーチ**: 実戦的な状況でのフィルタリング

3. **データソース**:
   - Ultimate Frame Data（https://ultimateframedata.com/）を基準
   - 公式データとコミュニティ検証データの組み合わせ

# 計算結果の表示要件
- 発生フレーム順でのソート表示
- 技の種類別（通常技、必殺技、投げ）でのカテゴリ分け
- 猶予フレーム数の表示
- 撃墜につながりやすい技のハイライト表示

上記を踏まえて、詳細な計算フローと結果表示のデータ構造を定義してください。
```

### ステップ3: UI/UXの具体化

```
モバイルフレンドリーなWebアプリケーションを想定して、以下の画面設計を行ってください。

# 画面構成
## メイン計算画面
- **ヘッダー**: ツール名、バージョン情報
- **ファイター選択エリア**: 
  - 攻撃側ファイター選択（キャラクター画像付き）
  - 防御側ファイター選択（複数選択可能）
- **技選択エリア**: 
  - 技を種類でグループ化（通常技、必殺技、投げ）
  - 技名と基本フレーム情報の表示
- **オプション設定エリア**:
  - 距離フィルタ（近距離、中距離、遠距離）
  - OP相殺考慮のオン/オフ
- **計算実行ボタン**: 「計算する」ボタン
- **結果表示エリア**: 
  - テーブル形式で技名・発生F・猶予F・リーチを表示
  - 撃墜技のハイライト表示
- **エクスポートボタン**: CSV/テキスト出力機能

# レスポンシブデザイン要件
- スマートフォン（320px〜）: 縦積みレイアウト
- タブレット（768px〜）: 2カラムレイアウト
- デスクトップ（1024px〜）: 3カラムレイアウト

# アクセシビリティ要件
- キーボードナビゲーション対応
- スクリーンリーダー対応
- 色覚異常者への配慮（色だけでなく形やテキストでの区別）

上記を踏まえて、具体的なワイヤーフレームとコンポーネント設計を行ってください。
```

### ステップ4: 技術仕様の定義

```
以下の技術的要件を満たす実装仕様を定義してください。

# 技術スタック
- **フロントエンド**: React + TypeScript
- **スタイリング**: Tailwind CSS
- **状態管理**: Zustand
- **データ管理**: JSON形式のフレームデータ
- **ビルドツール**: Vite
- **ホスティング**: GitHub Pages

# パフォーマンス要件
- 初回ロード時間: 3秒以内
- 計算処理時間: 100ms以内
- モバイル環境での快適な操作性

# データ構造
## ファイターデータ
```typescript
interface Fighter {
  id: string;
  name: string;
  nameJP: string;
  moves: Move[];
  guardCancelOptions: GuardCancelOption[];
}
```

## ガードキャンセルオプションデータ
```typescript
interface GuardCancelOption {
  type: 'jump' | 'upB' | 'upSmash';
  additionalFrames: number; // ジャンプの場合は3F、上B/上スマッシュは0F
  description: string;
}
```

## 技データ
```typescript
interface Move {
  id: string;
  name: string;
  nameJP: string;
  type: 'normal' | 'special' | 'throw';
  startupFrames: number;
  totalFrames: number;
  onShield: number;
  range: 'short' | 'medium' | 'long';
  killPower: number;
}
```

# セキュリティ要件
- XSS対策
- CSP（Content Security Policy）の設定
- 安全なデータ検証

上記を踏まえて、詳細な技術仕様書を作成してください。
```

### ステップ5: 最終統合と検証

```
これまでに定義した仕様を統合し、以下の観点から検証してください。

# 検証項目
1. **機能完整性**: 全ての要件が満たされているか
2. **技術的実現可能性**: 提案した技術スタックで実装可能か
3. **ユーザビリティ**: ターゲットユーザーにとって使いやすいか
4. **パフォーマンス**: 要求されるパフォーマンスが達成可能か
5. **保守性**: 将来的な機能拡張や修正が容易か

# 最終成果物
以下の形式で統合された仕様書を作成してください：
- **プロダクト要件定義書**
- **技術仕様書**
- **UI/UX設計書**
- **データ設計書**
- **テスト計画書**

# 今後の開発フェーズ
1. **フェーズ1**: 基本機能の実装（単一キャラクター対応）
2. **フェーズ2**: 複数キャラクター比較機能の追加
3. **フェーズ3**: 高度な機能（距離フィルタ、OP相殺考慮）の実装
4. **フェーズ4**: UI/UXの改善とパフォーマンス最適化

上記を踏まえて、包括的な仕様書を作成してください。
```

## 使用方法

1. 上記のプロンプトを順番にKiroに入力
2. 各ステップでKiroの回答を受け取り、必要に応じて追加質問
3. 最終的に包括的なSpecs文書を取得
4. 実装フェーズへ移行

## 注意事項

- **データの正確性**: フレームデータは信頼できる情報源で必ず検証
- **段階的開発**: 最初は基本機能から始め、段階的に機能を追加
- **ユーザーテスト**: 実際のスマブラプレイヤーからのフィードバック収集
- **定期的な更新**: ゲームのアップデートに合わせたデータ更新

このプロンプトを使用することで、Kiroを活用して詳細で実用的なSpecs文書を作成できます。